<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Home Page - The Spectral Haven</title>
</head>
<body>
    <h1>Home Page Widget Test</h1>
    <p>This page sets up test data for the home page widgets.</p>
    
    <button onclick="setupTestData()">Setup Test Data</button>
    <button onclick="clearTestData()">Clear Test Data</button>
    <button onclick="window.location.href='index.html'">Go to App</button>
    
    <div id="status"></div>
    
    <script>
        function setupTestData() {
            // Add some test tasks
            const tasks = [
                { id: '1', text: 'Test task 1', state: 'active', createdAt: Date.now() },
                { id: '2', text: 'Test task 2', state: 'active', createdAt: Date.now() },
                { id: '3', text: 'Test task 3', state: 'completed', createdAt: Date.now(), completedAt: Date.now() }
            ];
            localStorage.setItem('tasks', JSON.stringify(tasks));
            
            // Add a running focus session
            const focusState = {
                running: true,
                startTime: Date.now() - 120000, // Started 2 minutes ago
                elapsed: 0
            };
            localStorage.setItem('focusState', JSON.stringify(focusState));
            
            // Add today's mood
            const today = new Date().toISOString().split('T')[0];
            const moodEntries = [
                { id: '1', date: today, mood: 'happy', score: 4, note: 'Great day!', timestamp: Date.now() }
            ];
            localStorage.setItem('moodEntries', JSON.stringify(moodEntries));
            
            // Set theme to night mode
            const settings = {
                theme: 'night',
                animationsEnabled: true,
                skeletonEnabled: true,
                plainListMode: false,
                muted: false
            };
            localStorage.setItem('hauntedChamberSettings', JSON.stringify(settings));
            
            document.getElementById('status').innerHTML = '<p style="color: green;">✓ Test data created successfully!</p>';
        }
        
        function clearTestData() {
            localStorage.removeItem('tasks');
            localStorage.removeItem('focusState');
            localStorage.removeItem('moodEntries');
            localStorage.removeItem('hauntedChamberSettings');
            document.getElementById('status').innerHTML = '<p style="color: blue;">✓ Test data cleared!</p>';
        }
    </script>
</body>
</html>
